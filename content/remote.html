<section id="remote">
  <h2>Remote</h2>
  既然要能跟別人協作<br />
  當然要能把repo丟上遠端<br />
  <br />
  接下來會以GitHub作為例子
</section>

<section>
  <h2>What is <a href="https://github.com" target="_blank">github</a></h2>
  <ul>
    <li>可以將原始碼開放到網路上的網站</li>
    <li>很多厲害的的open source project都來自這</li>
    <li>私有專案是要付費的<br />
      (需要私有專案可以試試看<a href="https://bitbucket.org" target="_blank">bitbucket</a>或<a href="https://about.gitlab.com" target="_blank">gitlab</a>)</li>
  </ul>
</section>

<section>
  <h2>Remote</h2>
  要上傳前，當然要有個空間可以上傳<br />
  先在GitHub建立一個repository
  <img src="img/32_remote.png" alt="remote" width="70%"/>
</section>

<section>
  <h2>Remote</h2>
  <small>
    接著就會看到這個頁面<br />
    <img src="img/33_remote2.png" alt="remote2" width="50%"/><br />
    因為我們已經有本地的git專案了，我們只要看
  </small>

  <pre><code class="sh" data-trim>
git remote add origin https://github.com/Lee-W/Git-Tutorial-Sample.git
git push -u origin master
  </code></pre>
</section>

<section>
  <h2>Remote</h2>
  增加remote(遠端的存放點)
  <pre><code class="sh" data-trim>
git remote add "remote-name" "remote url"
  </code></pre>
  <ul style="font-size: 24px">
    <li>上一頁的origin就是remote name</li>
    <li>remote url則是https://github.com/Lee-W/Git-Tutorial-Sample.git</li>
    <li>origin只是預設的remote name，並沒有強制一定要存在</li>
    <li>一個專案也有可能有超過一個remote</li>
  </ul>
</section>

<section>
  <h2>Remote</h2>
  檢視現在有哪些remote
  <pre><code class="sh" data-trim>
git remote -v
  </code></pre>
  <img src="img/34_remote3.png" alt="remote3" width="70%"/>
</section>

<section>
  <h2>Push your repo</h2>
  所謂push就是上傳你的專案
  <pre><code class="sh" data-trim>
git push -u "remote name" "branch name"
  </code></pre>
  <small>
    -u 可以讓git記住下一次如果只下git push的command
    <br />
    要push到這次push的remote和branch
    <br />
  </small>
  <br />
  <br />
  <small class="fragment">
    接著用<code class="sh" data-trim>git branch --all</code>可以看到遠端的master分支已經存在了
    <img src="img/35_remote4.png" alt="remote4"/>
  </small>
</section>

<section>
  <h2>Push your repo</h2>
  將所有的branch push上去
  <pre><code class="sh" data-trim>
git push --all
  </code></pre>
</section>

<section>
  <h2>Credential</h2>
  <small>
    每次push的時候會要輸入帳號密碼實在太麻煩了
  </small>
  <br />
  <pre><code class="sh" data-trim>
git config --global credential.helper cache
  </code></pre>
  <small>
    這個指令可以幫我們記住帳號密碼15分鐘
    <br />
    如果cache改成store就可以永遠記住
    <br />
    不過需要注意的是，store會將帳號密碼以明碼記錄在~/.git-credentials
    <br />
    因此不建議使用store
  </small>
</section>

<section>
  <h2 class="no-upper">What should be in a repo?</h2>
  <ul>
    <li>程式碼</li>
    <li>README.md
      <ul>
        <li>說明專案該如何使用</li>
        <li>以markdown語法攥寫</li>
        <li>GitHub會自動去找readme，README等字眼，並建立出對應的說明文件</li>
        <li>GitHub使用的是GitHub Favored Markdown</li>
      </ul>
    </li>
    <li><a href="https://help.github.com/articles/licensing-a-repository/" target="_blank">LICENSE.txt</a></li>
  </ul>
</section>

<section>
  <h2 class="no-upper">What shouldn't be in a repo?</h2>
  <ul>
    <li>任何機密資料(e.g. 密碼)</li>
    <li>暫存檔(e.g. .swp, __pycacehe__)</li>
    <li>Binary檔</li>
    <li>很大的檔案（如果有必要，可以試試git-annex）</li>
  </ul>
</section>

<section>
  <h2>Clone</h2>
  那上傳上去的專案，其他人如何下載下來呢

  <pre><code class="sh" data-trim>
git clone "repo url"
  </code></pre>
</section>

<section>
  <h2>Pull</h2>
  如果已經有這個專案，要怎麼更新呢？
  <pre><code class="sh" data-trim>
git pull "remote name" "branch name"
  </code></pre>
</section>

<section>
  <h2>What did pull do?</h2>
  <small>
    Pull實際上做了fetch和merge命令的動作
    <br />
    <br />
    git fetch做的只是從遠端抓下來
    <br />
    讓我們可以checkout到 "remote name"/"branch name"這個分支
    <br />
    並不會像pull一樣處理merge的動作
    <br />
    <img src="img/36_remote5.png" alt="remote5" width="70%"/>
  </small>
  <small class="fragment">
    <img src="img/37_remote6.png" alt="remote6" width="70%"/>
    <br />
    因為我們並沒有做修改，master跟origin/master都是指像同樣的地方
  </small>
</section>

<section>
  <h2>Other Remote Operation</h2>
  重新命名Remote
  <pre><code class="sh" data-trim>
git remote rename "old name" "new name"
  </code></pre>

  刪除Remote
  <pre><code class="sh" data-trim>
git remote rm "remote name"
  </code></pre>
</section>

<section>
  <h2>Remote branch</h2>
  <ul>
    <li>Check遠端分支
      <pre><code class="sh" data-trim>
git fetch
git branch -a
git checkout "branch name"
      </code></pre>
    </li>
    <li>
      Clone單一遠端分支
      <pre><code class="sh" data-trim>
git clone "url" --branch "branch name" --single-branch "directory"
      </code></pre>
      如果不指定directory，就會clone到當前目錄
    </li>
  </ul>
</section>

<section>
  <h2>Remote branch</h2>
  <ul>
    <li>
      刪除遠端分支
      <pre><code class="sh" data-trim>
git branch -d :"branch name"
      </code></pre>
    </li>
    <li>
      清理過時的遠端分支
      <br />
      (在遠端已經被移除，本地端紀錄遠端分支存在)
      <pre><code class="sh" data-trim>
git remote prune "remote name"
      </code></pre>
    </li>

  </ul>
</section>

<section>
  <h2>Remote Tags</h2>
  <ul>
    <li>Push單一Tag
      <pre><code class="sh" data-trim>
git push "remote name" "tag name"
      </code></pre>
    </li>
    <li>Push所有Tag
      <pre><code class="sh" data-trim>
git push "remote name" --tags
      </code></pre>
  </li>
  </ul>
</section>
