<section id="stash">
  <h2>stash</h2>
  有時候修改到一半，突然想要切換到其他分支<br />
  如果新的修改跟其他分支有衝突，git就會阻止我們<br />
  這時候除了commit外<br />
  還能用stash暫存目前的修改
</section>

<section>
  <h2>stash</h2>
  <small>假設我們已經在my-branch上加上"new content on my-branch"並且commit了</small>
  <img src="img/42_stash2.png" alt="stash2"/>

  <p class="fragment">
    <small>
      這時候線圖看起來會是這樣的
      <br />
      my-branch比master多了一個commit
      <img src="img/41_stash.png" alt="stash"/>
    </small>
  </p>
</section>

<section>
  <h2>stash</h2>
  <small>
    接著我們再對master上的hi.txt做一些修改
    <img src="img/43_stash3.png" alt="stash3"/>
    <br />
    如果這時候要checkout到my-branch上
  </small>
  <p class="fragment">
    <small>
      git就會警告我們必須要先commit或stash
    <img src="img/44_stash4.png" alt="stash4"/>
    </small>
  </p>

  <p class="fragment">
    <small>
      但我們可能還沒有做到一個適合commit的階段
      <br />
      這時候就能用stash暫存起來
    </small>
  </p>
</section>

<section>
  <h2>stash</h2>
  將檔案加入stash暫存
  <pre><code class="sh" data-trim>
git stash
  </code></pre>
  <img src="img/45_stash5.png" alt="stash5"/>
  <br />
  <br />
  <p class="fragment">
    這時候hi.txt就會回到原本的狀態
    <img src="img/46_stash6.png" alt="stash6"/>
  </p>
</section>

<section>
  <h2>stash</h2>
  查看目前所有的stash
  <pre><code class="sh" data-trim>
git stash list
  </code></pre>
  <img src="img/47_stash7.png" alt="stash7"/>
  <small>這裡的stash@{0}就是之後要取回這個暫存使用的名稱</small>
</section>

<section>
  <h2>stash</h2>
  取回暫存的狀態
  <pre><code class="sh" data-trim>
git stash apply "stash name"
  </code></pre>
  <small>
    如果不指定stash name就會直接取回上一次的stash
    <br />
  </small>

  <p class="fragment">
    這時候就能看到
    <br />
    hi.txt又變成我們更改過後的狀態
    <img src="img/48_stash8.png" alt="stash8"/>
  </p>
</section>

<section>
  <h2>stash</h2>
  不過我們apply後，並不會把剛剛的暫存記錄刪除
  <br />
  如果不用留著就可以把它刪掉了
  <pre><code class="sh" data-trim>
git stash drop "stash name"
  </code></pre>
  <small>
    如果不指定stash name就會drop最上面的stash
    <br />
  </small>
</section>
